# Research: 발행 대시보드 콘텐츠 해시 불일치 버그 수정

**Date**: 2026-01-15
**Feature**: 001-fix-content-hash

## 연구 필요 사항

이 기능은 명확한 버그 수정이므로 추가 연구가 필요하지 않습니다.

## 결정 사항

### 1. 해시 계산 대상

**Decision**: 발행 시 `content` (원본 파일 콘텐츠, 프론트매터 자동 수정 후)의 해시를 저장

**Rationale**:
- 상태 확인 시 `status.ts`에서 `vault.cachedRead(file)`로 로컬 파일을 읽고 해시를 계산
- 발행 시에도 동일한 콘텐츠의 해시를 저장해야 일관성 있는 비교 가능
- `transformed.content`는 GitHub 업로드용으로만 사용 (링크 변환, 첨부파일 경로 변경 등 적용됨)

**Alternatives considered**:
- 상태 확인 시에도 변환 적용 후 비교 → 성능 부담, 복잡성 증가로 기각

### 2. 탭 설명 UI 위치

**Decision**: 탭 버튼 영역 바로 아래에 텍스트로 표시

**Rationale**:
- 탭과 가까워 연관성 명확
- 기존 UI 레이아웃 최소 변경
- 선택된 탭에 따라 동적으로 텍스트 변경

**Alternatives considered**:
- 툴팁으로 표시 → 호버가 필요해 모바일에서 불편
- 탭 버튼 내에 포함 → 버튼 크기 증가, 레이아웃 복잡

### 3. 기존 발행 기록 마이그레이션

**Decision**: 마이그레이션 불필요, "모두 동기화" 기능으로 자연스럽게 해결

**Rationale**:
- 기존 발행 기록의 해시는 잘못된 값이지만, 재발행 시 올바른 해시로 업데이트됨
- 별도 마이그레이션 로직 추가는 과도한 복잡성
- 사용자가 한 번 "모두 동기화"를 실행하면 모든 해시가 정상화됨

**Alternatives considered**:
- 자동 마이그레이션 스크립트 → 복잡성 증가, YAGNI 원칙 위반
